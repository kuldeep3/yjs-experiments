{"ast":null,"code":"/**\n * Isomorphic logging module with support for colors!\n *\n * @module logging\n */\nimport * as env from './environment.js';\nimport * as symbol from './symbol.js';\nimport * as pair from './pair.js';\nimport * as dom from './dom.js';\nimport * as json from './json.js';\nimport * as map from './map.js';\nimport * as eventloop from './eventloop.js';\nimport * as math from './math.js';\nimport * as time from './time.js';\nimport * as func from './function.js';\nexport const BOLD = symbol.create();\nexport const UNBOLD = symbol.create();\nexport const BLUE = symbol.create();\nexport const GREY = symbol.create();\nexport const GREEN = symbol.create();\nexport const RED = symbol.create();\nexport const PURPLE = symbol.create();\nexport const ORANGE = symbol.create();\nexport const UNCOLOR = symbol.create();\n/**\n * @type {Object<Symbol,pair.Pair<string,string>>}\n */\n\nconst _browserStyleMap = {\n  [BOLD]: pair.create('font-weight', 'bold'),\n  [UNBOLD]: pair.create('font-weight', 'normal'),\n  [BLUE]: pair.create('color', 'blue'),\n  [GREEN]: pair.create('color', 'green'),\n  [GREY]: pair.create('color', 'grey'),\n  [RED]: pair.create('color', 'red'),\n  [PURPLE]: pair.create('color', 'purple'),\n  [ORANGE]: pair.create('color', 'orange'),\n  // not well supported in chrome when debugging node with inspector - TODO: deprecate\n  [UNCOLOR]: pair.create('color', 'black')\n};\nconst _nodeStyleMap = {\n  [BOLD]: '\\u001b[1m',\n  [UNBOLD]: '\\u001b[2m',\n  [BLUE]: '\\x1b[34m',\n  [GREEN]: '\\x1b[32m',\n  [GREY]: '\\u001b[37m',\n  [RED]: '\\x1b[31m',\n  [PURPLE]: '\\x1b[35m',\n  [ORANGE]: '\\x1b[38;5;208m',\n  [UNCOLOR]: '\\x1b[0m'\n};\n/* istanbul ignore next */\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\n\nconst computeBrowserLoggingArgs = args => {\n  const strBuilder = [];\n  const styles = [];\n  const currentStyle = map.create();\n  /**\n   * @type {Array<string|Object|number>}\n   */\n\n  let logArgs = []; // try with formatting until we find something unsupported\n\n  let i = 0;\n\n  for (; i < args.length; i++) {\n    const arg = args[i]; // @ts-ignore\n\n    const style = _browserStyleMap[arg];\n\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right);\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        const style = dom.mapToStyleString(currentStyle);\n\n        if (i > 0 || style.length > 0) {\n          strBuilder.push('%c' + arg);\n          styles.push(style);\n        } else {\n          strBuilder.push(arg);\n        }\n      } else {\n        break;\n      }\n    }\n  }\n\n  if (i > 0) {\n    // create logArgs with what we have so far\n    logArgs = styles;\n    logArgs.unshift(strBuilder.join(''));\n  } // append the rest\n\n\n  for (; i < args.length; i++) {\n    const arg = args[i];\n\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg);\n    }\n  }\n\n  return logArgs;\n};\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\n\n\nconst computeNodeLoggingArgs = args => {\n  const strBuilder = [];\n  const logArgs = []; // try with formatting until we find something unsupported\n\n  let i = 0;\n\n  for (; i < args.length; i++) {\n    const arg = args[i]; // @ts-ignore\n\n    const style = _nodeStyleMap[arg];\n\n    if (style !== undefined) {\n      strBuilder.push(style);\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        strBuilder.push(arg);\n      } else {\n        break;\n      }\n    }\n  }\n\n  if (i > 0) {\n    // create logArgs with what we have so far\n    strBuilder.push('\\x1b[0m');\n    logArgs.push(strBuilder.join(''));\n  } // append the rest\n\n\n  for (; i < args.length; i++) {\n    const arg = args[i];\n    /* istanbul ignore else */\n\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg);\n    }\n  }\n\n  return logArgs;\n};\n/* istanbul ignore next */\n\n\nconst computeLoggingArgs = env.isNode ? computeNodeLoggingArgs : computeBrowserLoggingArgs;\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\n\nexport const print = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  console.log(...computeLoggingArgs(args));\n  /* istanbul ignore next */\n\n  vconsoles.forEach(vc => vc.print(args));\n};\n/* istanbul ignore next */\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\n\nexport const warn = function () {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  console.warn(...computeLoggingArgs(args));\n  args.unshift(ORANGE);\n  vconsoles.forEach(vc => vc.print(args));\n};\n/* istanbul ignore next */\n\n/**\n * @param {Error} err\n */\n\nexport const printError = err => {\n  console.error(err);\n  vconsoles.forEach(vc => vc.printError(err));\n};\n/* istanbul ignore next */\n\n/**\n * @param {string} url image location\n * @param {number} height height of the image in pixel\n */\n\nexport const printImg = (url, height) => {\n  if (env.isBrowser) {\n    console.log('%c                      ', `font-size: ${height}px; background-size: contain; background-repeat: no-repeat; background-image: url(${url})`); // console.log('%c                ', `font-size: ${height}x; background: url(${url}) no-repeat;`)\n  }\n\n  vconsoles.forEach(vc => vc.printImg(url, height));\n};\n/* istanbul ignore next */\n\n/**\n * @param {string} base64\n * @param {number} height\n */\n\nexport const printImgBase64 = (base64, height) => printImg(`data:image/gif;base64,${base64}`, height);\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\n\nexport const group = function () {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  console.group(...computeLoggingArgs(args));\n  /* istanbul ignore next */\n\n  vconsoles.forEach(vc => vc.group(args));\n};\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\n\nexport const groupCollapsed = function () {\n  for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    args[_key4] = arguments[_key4];\n  }\n\n  console.groupCollapsed(...computeLoggingArgs(args));\n  /* istanbul ignore next */\n\n  vconsoles.forEach(vc => vc.groupCollapsed(args));\n};\nexport const groupEnd = () => {\n  console.groupEnd();\n  /* istanbul ignore next */\n\n  vconsoles.forEach(vc => vc.groupEnd());\n};\n/* istanbul ignore next */\n\n/**\n * @param {function():Node} createNode\n */\n\nexport const printDom = createNode => vconsoles.forEach(vc => vc.printDom(createNode()));\n/* istanbul ignore next */\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} height\n */\n\nexport const printCanvas = (canvas, height) => printImg(canvas.toDataURL(), height);\nexport const vconsoles = new Set();\n/* istanbul ignore next */\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<Element>}\n */\n\nconst _computeLineSpans = args => {\n  const spans = [];\n  const currentStyle = new Map(); // try with formatting until we find something unsupported\n\n  let i = 0;\n\n  for (; i < args.length; i++) {\n    const arg = args[i]; // @ts-ignore\n\n    const style = _browserStyleMap[arg];\n\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right);\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        // @ts-ignore\n        const span = dom.element('span', [pair.create('style', dom.mapToStyleString(currentStyle))], [dom.text(arg)]);\n\n        if (span.innerHTML === '') {\n          span.innerHTML = '&nbsp;';\n        }\n\n        spans.push(span);\n      } else {\n        break;\n      }\n    }\n  } // append the rest\n\n\n  for (; i < args.length; i++) {\n    let content = args[i];\n\n    if (!(content instanceof Symbol)) {\n      if (content.constructor !== String && content.constructor !== Number) {\n        content = ' ' + json.stringify(content) + ' ';\n      }\n\n      spans.push(dom.element('span', [], [dom.text(\n      /** @type {string} */\n      content)]));\n    }\n  }\n\n  return spans;\n};\n\nconst lineStyle = 'font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;';\n/* istanbul ignore next */\n\nexport class VConsole {\n  /**\n   * @param {Element} dom\n   */\n  constructor(dom) {\n    this.dom = dom;\n    /**\n     * @type {Element}\n     */\n\n    this.ccontainer = this.dom;\n    this.depth = 0;\n    vconsoles.add(this);\n  }\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   * @param {boolean} collapsed\n   */\n\n\n  group(args) {\n    let collapsed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    eventloop.enqueue(() => {\n      const triangleDown = dom.element('span', [pair.create('hidden', collapsed), pair.create('style', 'color:grey;font-size:120%;')], [dom.text('▼')]);\n      const triangleRight = dom.element('span', [pair.create('hidden', !collapsed), pair.create('style', 'color:grey;font-size:125%;')], [dom.text('▶')]);\n      const content = dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], [triangleDown, triangleRight, dom.text(' ')].concat(_computeLineSpans(args)));\n      const nextContainer = dom.element('div', [pair.create('hidden', collapsed)]);\n      const nextLine = dom.element('div', [], [content, nextContainer]);\n      dom.append(this.ccontainer, [nextLine]);\n      this.ccontainer = nextContainer;\n      this.depth++; // when header is clicked, collapse/uncollapse container\n\n      dom.addEventListener(content, 'click', event => {\n        nextContainer.toggleAttribute('hidden');\n        triangleDown.toggleAttribute('hidden');\n        triangleRight.toggleAttribute('hidden');\n      });\n    });\n  }\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n\n\n  groupCollapsed(args) {\n    this.group(args, true);\n  }\n\n  groupEnd() {\n    eventloop.enqueue(() => {\n      if (this.depth > 0) {\n        this.depth--; // @ts-ignore\n\n        this.ccontainer = this.ccontainer.parentElement.parentElement;\n      }\n    });\n  }\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n\n\n  print(args) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], _computeLineSpans(args))]);\n    });\n  }\n  /**\n   * @param {Error} err\n   */\n\n\n  printError(err) {\n    this.print([RED, BOLD, err.toString()]);\n  }\n  /**\n   * @param {string} url\n   * @param {number} height\n   */\n\n\n  printImg(url, height) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('img', [pair.create('src', url), pair.create('height', `${math.round(height * 1.5)}px`)])]);\n    });\n  }\n  /**\n   * @param {Node} node\n   */\n\n\n  printDom(node) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [node]);\n    });\n  }\n\n  destroy() {\n    eventloop.enqueue(() => {\n      vconsoles.delete(this);\n    });\n  }\n\n}\n/* istanbul ignore next */\n\n/**\n * @param {Element} dom\n */\n\nexport const createVConsole = dom => new VConsole(dom);\nconst loggingColors = [GREEN, PURPLE, ORANGE, BLUE];\nlet nextColor = 0;\nlet lastLoggingTime = time.getUnixTime();\n/**\n * @param {string} moduleName\n * @return {function(...any):void}\n */\n\nexport const createModuleLogger = moduleName => {\n  const color = loggingColors[nextColor];\n  const debugRegexVar = env.getVariable('log');\n  const doLogging = debugRegexVar !== null && (debugRegexVar === '*' || debugRegexVar === 'true' || new RegExp(debugRegexVar, 'gi').test(moduleName));\n  nextColor = (nextColor + 1) % loggingColors.length;\n  moduleName += ': ';\n  return !doLogging ? func.nop : function () {\n    const timeNow = time.getUnixTime();\n    const timeDiff = timeNow - lastLoggingTime;\n    lastLoggingTime = timeNow;\n\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    print(color, moduleName, UNCOLOR, ...args.map(arg => typeof arg === 'string' || typeof arg === 'symbol' ? arg : JSON.stringify(arg)), color, ' +' + timeDiff + 'ms');\n  };\n};","map":{"version":3,"names":["env","symbol","pair","dom","json","map","eventloop","math","time","func","BOLD","create","UNBOLD","BLUE","GREY","GREEN","RED","PURPLE","ORANGE","UNCOLOR","_browserStyleMap","_nodeStyleMap","computeBrowserLoggingArgs","args","strBuilder","styles","currentStyle","logArgs","i","length","arg","style","undefined","set","left","right","constructor","String","Number","mapToStyleString","push","unshift","join","Symbol","computeNodeLoggingArgs","computeLoggingArgs","isNode","print","console","log","vconsoles","forEach","vc","warn","printError","err","error","printImg","url","height","isBrowser","printImgBase64","base64","group","groupCollapsed","groupEnd","printDom","createNode","printCanvas","canvas","toDataURL","Set","_computeLineSpans","spans","Map","span","element","text","innerHTML","content","stringify","lineStyle","VConsole","ccontainer","depth","add","collapsed","enqueue","triangleDown","triangleRight","concat","nextContainer","nextLine","append","addEventListener","event","toggleAttribute","parentElement","toString","round","node","destroy","delete","createVConsole","loggingColors","nextColor","lastLoggingTime","getUnixTime","createModuleLogger","moduleName","color","debugRegexVar","getVariable","doLogging","RegExp","test","nop","timeNow","timeDiff","JSON"],"sources":["/Users/kuldeepupreti/Downloads/Projects/personal/yjs/node_modules/lib0/logging.js"],"sourcesContent":["/**\n * Isomorphic logging module with support for colors!\n *\n * @module logging\n */\n\nimport * as env from './environment.js'\nimport * as symbol from './symbol.js'\nimport * as pair from './pair.js'\nimport * as dom from './dom.js'\nimport * as json from './json.js'\nimport * as map from './map.js'\nimport * as eventloop from './eventloop.js'\nimport * as math from './math.js'\nimport * as time from './time.js'\nimport * as func from './function.js'\n\nexport const BOLD = symbol.create()\nexport const UNBOLD = symbol.create()\nexport const BLUE = symbol.create()\nexport const GREY = symbol.create()\nexport const GREEN = symbol.create()\nexport const RED = symbol.create()\nexport const PURPLE = symbol.create()\nexport const ORANGE = symbol.create()\nexport const UNCOLOR = symbol.create()\n\n/**\n * @type {Object<Symbol,pair.Pair<string,string>>}\n */\nconst _browserStyleMap = {\n  [BOLD]: pair.create('font-weight', 'bold'),\n  [UNBOLD]: pair.create('font-weight', 'normal'),\n  [BLUE]: pair.create('color', 'blue'),\n  [GREEN]: pair.create('color', 'green'),\n  [GREY]: pair.create('color', 'grey'),\n  [RED]: pair.create('color', 'red'),\n  [PURPLE]: pair.create('color', 'purple'),\n  [ORANGE]: pair.create('color', 'orange'), // not well supported in chrome when debugging node with inspector - TODO: deprecate\n  [UNCOLOR]: pair.create('color', 'black')\n}\n\nconst _nodeStyleMap = {\n  [BOLD]: '\\u001b[1m',\n  [UNBOLD]: '\\u001b[2m',\n  [BLUE]: '\\x1b[34m',\n  [GREEN]: '\\x1b[32m',\n  [GREY]: '\\u001b[37m',\n  [RED]: '\\x1b[31m',\n  [PURPLE]: '\\x1b[35m',\n  [ORANGE]: '\\x1b[38;5;208m',\n  [UNCOLOR]: '\\x1b[0m'\n}\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeBrowserLoggingArgs = args => {\n  const strBuilder = []\n  const styles = []\n  const currentStyle = map.create()\n  /**\n   * @type {Array<string|Object|number>}\n   */\n  let logArgs = []\n  // try with formatting until we find something unsupported\n  let i = 0\n\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        const style = dom.mapToStyleString(currentStyle)\n        if (i > 0 || style.length > 0) {\n          strBuilder.push('%c' + arg)\n          styles.push(style)\n        } else {\n          strBuilder.push(arg)\n        }\n      } else {\n        break\n      }\n    }\n  }\n\n  if (i > 0) {\n    // create logArgs with what we have so far\n    logArgs = styles\n    logArgs.unshift(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeNodeLoggingArgs = args => {\n  const strBuilder = []\n  const logArgs = []\n\n  // try with formatting until we find something unsupported\n  let i = 0\n\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _nodeStyleMap[arg]\n    if (style !== undefined) {\n      strBuilder.push(style)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        strBuilder.push(arg)\n      } else {\n        break\n      }\n    }\n  }\n  if (i > 0) {\n    // create logArgs with what we have so far\n    strBuilder.push('\\x1b[0m')\n    logArgs.push(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    /* istanbul ignore else */\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n\n/* istanbul ignore next */\nconst computeLoggingArgs = env.isNode ? computeNodeLoggingArgs : computeBrowserLoggingArgs\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const print = (...args) => {\n  console.log(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.print(args))\n}\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const warn = (...args) => {\n  console.warn(...computeLoggingArgs(args))\n  args.unshift(ORANGE)\n  vconsoles.forEach(vc => vc.print(args))\n}\n\n/* istanbul ignore next */\n/**\n * @param {Error} err\n */\nexport const printError = err => {\n  console.error(err)\n  vconsoles.forEach(vc => vc.printError(err))\n}\n\n/* istanbul ignore next */\n/**\n * @param {string} url image location\n * @param {number} height height of the image in pixel\n */\nexport const printImg = (url, height) => {\n  if (env.isBrowser) {\n    console.log('%c                      ', `font-size: ${height}px; background-size: contain; background-repeat: no-repeat; background-image: url(${url})`)\n    // console.log('%c                ', `font-size: ${height}x; background: url(${url}) no-repeat;`)\n  }\n  vconsoles.forEach(vc => vc.printImg(url, height))\n}\n\n/* istanbul ignore next */\n/**\n * @param {string} base64\n * @param {number} height\n */\nexport const printImgBase64 = (base64, height) => printImg(`data:image/gif;base64,${base64}`, height)\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const group = (...args) => {\n  console.group(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.group(args))\n}\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const groupCollapsed = (...args) => {\n  console.groupCollapsed(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupCollapsed(args))\n}\n\nexport const groupEnd = () => {\n  console.groupEnd()\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupEnd())\n}\n\n/* istanbul ignore next */\n/**\n * @param {function():Node} createNode\n */\nexport const printDom = createNode =>\n  vconsoles.forEach(vc => vc.printDom(createNode()))\n\n/* istanbul ignore next */\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} height\n */\nexport const printCanvas = (canvas, height) => printImg(canvas.toDataURL(), height)\n\nexport const vconsoles = new Set()\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<Element>}\n */\nconst _computeLineSpans = args => {\n  const spans = []\n  const currentStyle = new Map()\n  // try with formatting until we find something unsupported\n  let i = 0\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        // @ts-ignore\n        const span = dom.element('span', [pair.create('style', dom.mapToStyleString(currentStyle))], [dom.text(arg)])\n        if (span.innerHTML === '') {\n          span.innerHTML = '&nbsp;'\n        }\n        spans.push(span)\n      } else {\n        break\n      }\n    }\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    let content = args[i]\n    if (!(content instanceof Symbol)) {\n      if (content.constructor !== String && content.constructor !== Number) {\n        content = ' ' + json.stringify(content) + ' '\n      }\n      spans.push(dom.element('span', [], [dom.text(/** @type {string} */ (content))]))\n    }\n  }\n  return spans\n}\n\nconst lineStyle = 'font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;'\n\n/* istanbul ignore next */\nexport class VConsole {\n  /**\n   * @param {Element} dom\n   */\n  constructor (dom) {\n    this.dom = dom\n    /**\n     * @type {Element}\n     */\n    this.ccontainer = this.dom\n    this.depth = 0\n    vconsoles.add(this)\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   * @param {boolean} collapsed\n   */\n  group (args, collapsed = false) {\n    eventloop.enqueue(() => {\n      const triangleDown = dom.element('span', [pair.create('hidden', collapsed), pair.create('style', 'color:grey;font-size:120%;')], [dom.text('▼')])\n      const triangleRight = dom.element('span', [pair.create('hidden', !collapsed), pair.create('style', 'color:grey;font-size:125%;')], [dom.text('▶')])\n      const content = dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], [triangleDown, triangleRight, dom.text(' ')].concat(_computeLineSpans(args)))\n      const nextContainer = dom.element('div', [pair.create('hidden', collapsed)])\n      const nextLine = dom.element('div', [], [content, nextContainer])\n      dom.append(this.ccontainer, [nextLine])\n      this.ccontainer = nextContainer\n      this.depth++\n      // when header is clicked, collapse/uncollapse container\n      dom.addEventListener(content, 'click', event => {\n        nextContainer.toggleAttribute('hidden')\n        triangleDown.toggleAttribute('hidden')\n        triangleRight.toggleAttribute('hidden')\n      })\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  groupCollapsed (args) {\n    this.group(args, true)\n  }\n\n  groupEnd () {\n    eventloop.enqueue(() => {\n      if (this.depth > 0) {\n        this.depth--\n        // @ts-ignore\n        this.ccontainer = this.ccontainer.parentElement.parentElement\n      }\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  print (args) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], _computeLineSpans(args))])\n    })\n  }\n\n  /**\n   * @param {Error} err\n   */\n  printError (err) {\n    this.print([RED, BOLD, err.toString()])\n  }\n\n  /**\n   * @param {string} url\n   * @param {number} height\n   */\n  printImg (url, height) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('img', [pair.create('src', url), pair.create('height', `${math.round(height * 1.5)}px`)])])\n    })\n  }\n\n  /**\n   * @param {Node} node\n   */\n  printDom (node) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [node])\n    })\n  }\n\n  destroy () {\n    eventloop.enqueue(() => {\n      vconsoles.delete(this)\n    })\n  }\n}\n\n/* istanbul ignore next */\n/**\n * @param {Element} dom\n */\nexport const createVConsole = dom => new VConsole(dom)\n\nconst loggingColors = [GREEN, PURPLE, ORANGE, BLUE]\nlet nextColor = 0\nlet lastLoggingTime = time.getUnixTime()\n\n/**\n * @param {string} moduleName\n * @return {function(...any):void}\n */\nexport const createModuleLogger = moduleName => {\n  const color = loggingColors[nextColor]\n  const debugRegexVar = env.getVariable('log')\n  const doLogging = debugRegexVar !== null && (debugRegexVar === '*' || debugRegexVar === 'true' || new RegExp(debugRegexVar, 'gi').test(moduleName))\n  nextColor = (nextColor + 1) % loggingColors.length\n  moduleName += ': '\n\n  return !doLogging ? func.nop : (...args) => {\n    const timeNow = time.getUnixTime()\n    const timeDiff = timeNow - lastLoggingTime\n    lastLoggingTime = timeNow\n    print(color, moduleName, UNCOLOR, ...args.map(arg => (typeof arg === 'string' || typeof arg === 'symbol') ? arg : JSON.stringify(arg)), color, ' +' + timeDiff + 'ms')\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}